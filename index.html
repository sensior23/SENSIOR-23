<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SENSIOR Â· perâ€‘page prompt studio</title>
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- Google Font: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,300;14..32,400;14..32,500;14..32,600&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      transition: background 0.3s;
    }

    /* theme variables */
    body.light {
      --bg-color: #f0f2f5;
      --glass-bg: rgba(255, 255, 255, 0.6);
      --glass-border: rgba(255, 255, 255, 0.8);
      --text-primary: #1e2433;
      --text-secondary: #3d4459;
      --icon-color: #5f6b8a;
      --card-bg: rgba(255, 255, 255, 0.7);
      --card-border: rgba(255, 255, 255, 0.9);
      --hover-bg: rgba(255, 255, 255, 0.95);
      --shadow: 0 15px 30px -12px rgba(0, 0, 0, 0.2);
      --modal-bg: rgba(255, 255, 255, 0.85);
      --input-bg: rgba(255, 255, 255, 0.6);
    }

    body.dark {
      --bg-color: #000000;
      --glass-bg: rgba(20, 20, 30, 0.7);
      --glass-border: rgba(255, 255, 255, 0.15);
      --text-primary: #f0eaff;
      --text-secondary: #cbd0e0;
      --icon-color: #a6b1d0;
      --card-bg: rgba(25, 25, 40, 0.7);
      --card-border: rgba(255, 255, 255, 0.1);
      --hover-bg: rgba(50, 50, 70, 0.8);
      --shadow: 0 15px 30px -12px rgba(0, 0, 0, 0.8);
      --modal-bg: rgba(20, 20, 35, 0.95);
      --input-bg: rgba(40, 40, 60, 0.7);
    }

    body {
      background: var(--bg-color);
    }

    /* main glass container */
    .sensior-app {
      width: 1440px;
      max-width: 100%;
      height: 880px;
      max-height: 95vh;
      background: var(--glass-bg);
      backdrop-filter: blur(18px) saturate(180%);
      -webkit-backdrop-filter: blur(18px) saturate(180%);
      border-radius: 60px;
      border: 1px solid var(--glass-border);
      box-shadow: 0 30px 60px -15px rgba(0, 0, 0, 0.5);
      display: flex;
      overflow: hidden;
      transition: background 0.3s, border-color 0.3s;
    }

    /* ---------- SIDEBAR ---------- */
    .sidebar {
      width: 300px;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      -webkit-backdrop-filter: blur(20px);
      border-right: 1px solid var(--glass-border);
      padding: 32px 20px;
      display: flex;
      flex-direction: column;
      transition: width 0.3s ease, padding 0.2s, opacity 0.2s, background 0.3s;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: #a0a8c0 transparent;
    }

    .sidebar.collapsed {
      width: 0;
      padding: 0;
      opacity: 0;
      pointer-events: none;
      border-right: none;
    }

    .sidebar-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 36px;
      padding: 0 6px;
    }
    .sidebar-header h3 {
      font-weight: 600;
      font-size: 15px;
      letter-spacing: 2.5px;
      text-transform: uppercase;
      background: linear-gradient(135deg, #ff6b6b, #ffb347, #ffee88, #6bff6b, #6bb5ff, #b56bff, #ff6b9d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .close-sidebar {
      background: transparent;
      border: none;
      color: var(--icon-color);
      font-size: 22px;
      cursor: pointer;
      width: 40px;
      height: 40px;
      border-radius: 40px;
      transition: 0.2s;
    }
    .close-sidebar:hover {
      background: var(--hover-bg);
      color: var(--text-primary);
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 14px 20px;
      border-radius: 30px;
      color: var(--text-primary);
      font-weight: 500;
      font-size: 16px;
      transition: all 0.2s;
      cursor: pointer;
      margin-bottom: 6px;
      border: 1px solid transparent;
    }
    .nav-item i {
      width: 24px;
      font-size: 1.25rem;
      background: linear-gradient(45deg, #ff6b6b, #ffb347, #ffee88, #6bff6b, #6bb5ff, #b56bff, #ff6b9d);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .nav-item:hover {
      background: var(--hover-bg);
      border-color: var(--glass-border);
      transform: translateX(6px);
      box-shadow: 0 8px 16px -10px rgba(0, 0, 0, 0.2);
    }

    .upload-section {
      margin-top: 28px;
      border-top: 1px solid var(--glass-border);
      padding-top: 24px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }
    .action-btn {
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      border-radius: 40px;
      padding: 16px 20px;
      color: var(--text-primary);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 18px;
      transition: 0.2s;
      cursor: pointer;
      backdrop-filter: blur(8px);
    }
    .action-btn i {
      font-size: 1.4rem;
      background: linear-gradient(135deg, #ff6b6b, #ffb347, #ffee88, #6bff6b, #6bb5ff, #b56bff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .action-btn:hover {
      background: var(--hover-bg);
      transform: scale(1.02);
      border-color: rgba(255,255,255,0.9);
    }

    .dynamic-list {
      margin-top: 28px;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }
    .dynamic-item {
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 12px 20px;
      border-radius: 40px;
      color: var(--text-secondary);
      font-size: 15px;
      transition: 0.15s;
      cursor: pointer;
      border: 1px solid transparent;
    }
    .dynamic-item i {
      background: linear-gradient(45deg, #ff9a9e, #fad0c4, #fad0c4, #a1c4fd, #c2e9fb, #fbc2eb);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .dynamic-item:hover {
      background: var(--hover-bg);
      border-color: var(--glass-border);
      padding-left: 26px;
      color: var(--text-primary);
    }

    /* ---------- MAIN PANEL ---------- */
    .main-panel {
      flex: 1;
      padding: 32px 40px;
      overflow-y: auto;
      background: rgba(0, 0, 0, 0.2);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 32px;
      gap: 20px;
      flex-wrap: wrap;
    }
    .logo-box {
      display: flex;
      align-items: center;
      gap: 24px;
    }
    .logo-img {
      height: 44px;
      width: auto;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,0.1));
      border-radius: 12px;
      transition: filter 0.2s, transform 0.2s;
      cursor: pointer;
    }
    .logo-img:hover {
      filter: drop-shadow(0 0 12px #b39eff);
      transform: scale(1.02);
    }
    /* search container */
    .search-container {
      flex: 1;
      max-width: 500px;
      position: relative;
    }
    .search-input {
      width: 100%;
      background: var(--input-bg);
      border: 1px solid var(--glass-border);
      border-radius: 60px;
      padding: 16px 24px;
      font-size: 16px;
      color: var(--text-primary);
      outline: none;
      transition: 0.2s;
    }
    .search-input:focus {
      border-color: #b39eff;
      background: var(--hover-bg);
    }
    .search-results {
      position: absolute;
      top: 70px;
      left: 0;
      right: 0;
      background: var(--modal-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 40px;
      max-height: 300px;
      overflow-y: auto;
      z-index: 100;
      display: none;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }
    .search-results.show {
      display: block;
    }
    .search-result-item {
      padding: 16px 24px;
      border-bottom: 1px solid var(--glass-border);
      cursor: pointer;
      color: var(--text-primary);
      transition: 0.1s;
    }
    .search-result-item:hover {
      background: var(--hover-bg);
    }
    .result-page {
      font-size: 12px;
      opacity: 0.7;
      margin-bottom: 4px;
    }
    .result-prompt {
      font-weight: 500;
    }
    .right-controls {
      display: flex;
      gap: 16px;
    }
    .toggle-sidebar, .dark-toggle {
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      width: 60px;
      height: 60px;
      border-radius: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-primary);
      font-size: 26px;
      cursor: pointer;
      transition: 0.2s;
      backdrop-filter: blur(10px);
    }
    .toggle-sidebar:hover, .dark-toggle:hover {
      background: var(--hover-bg);
    }

    /* page view */
    .page-view {
      display: none;
      flex-direction: column;
      gap: 30px;
    }
    .page-view.active {
      display: flex;
    }

    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .page-title {
      font-size: 28px;
      font-weight: 350;
      color: var(--text-primary);
      display: flex;
      align-items: center;
      gap: 12px;
    }
    .page-title i {
      color: var(--icon-color);
      background: var(--card-bg);
      padding: 12px;
      border-radius: 50%;
    }

    /* prompt grid */
    .page-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 24px;
    }

    .prompt-card {
      background: var(--card-bg);
      backdrop-filter: blur(12px);
      border: 1px solid var(--glass-border);
      border-radius: 40px;
      padding: 20px;
      transition: 0.25s ease;
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
    }
    .prompt-card:hover {
      transform: translateY(-6px);
      border: 2px solid transparent;
      background: var(--hover-bg);
    }
    .prompt-card:hover::before {
      content: '';
      position: absolute;
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      background: linear-gradient(45deg, #ff6b6b, #ffb347, #ffee88, #6bff6b, #6bb5ff, #b56bff, #ff6b9d);
      border-radius: 42px;
      z-index: -1;
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      -webkit-mask-composite: xor;
      mask-composite: exclude;
      pointer-events: none;
    }
    /* highlight for search result */
    .prompt-card.highlight {
      border: 2px solid #b39eff;
      box-shadow: 0 0 20px #b39eff;
    }

    .card-img {
      width: 100%;
      border-radius: 28px;
      overflow: hidden;
      margin-bottom: 16px;
      border: 1px solid rgba(255,255,255,0.2);
      background: var(--card-bg);
    }
    .card-img img {
      width: 100%;
      height: auto;
      display: block;
      image-rendering: high-quality;
    }
    .prompt-text {
      color: var(--text-primary);
      font-size: 14px;
      margin-bottom: 16px;
    }
    .card-actions {
      display: flex;
      gap: 6px;
      justify-content: flex-end;
      border-top: 1px solid var(--glass-border);
      padding-top: 14px;
      flex-wrap: wrap;
    }
    .copy-btn, .share-btn, .edit-btn, .delete-btn {
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      color: var(--text-primary);
      padding: 6px 10px;
      border-radius: 30px;
      font-size: 12px;
      display: flex;
      align-items: center;
      gap: 4px;
      cursor: pointer;
      transition: 0.15s;
    }
    .copy-btn i, .share-btn i, .edit-btn i, .delete-btn i {
      background: linear-gradient(135deg, #ff6b6b, #ffb347, #ffee88, #6bff6b);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .delete-btn i {
      background: linear-gradient(135deg, #ff6b6b, #ff4d4d);
    }
    .copy-btn:hover, .share-btn:hover, .edit-btn:hover, .delete-btn:hover {
      background: var(--hover-bg);
    }

    /* upload area inside page */
    .page-upload-area {
      background: rgba(255,255,255,0.03);
      border: 2px dashed rgba(255,255,255,0.15);
      border-radius: 50px;
      padding: 30px 20px;
      text-align: center;
      cursor: pointer;
      transition: 0.2s;
      margin-top: 20px;
    }
    .page-upload-area:hover {
      border-color: #b39eff;
      background: rgba(180,150,255,0.05);
    }
    .page-upload-area i {
      font-size: 40px;
      background: linear-gradient(135deg, #ff6b6b, #ffb347, #ffee88, #6bff6b, #6bb5ff, #b56bff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .upload-previews {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 16px;
      margin: 20px 0;
    }
    .preview-card {
      background: var(--card-bg);
      border-radius: 20px;
      padding: 12px;
    }
    .preview-img {
      width: 100%;
      border-radius: 16px;
      overflow: hidden;
      margin-bottom: 10px;
    }
    .preview-img img {
      width: 100%;
      height: auto;
      display: block;
      image-rendering: high-quality;
    }
    .preview-input {
      width: 100%;
      background: var(--input-bg);
      border: 1px solid var(--glass-border);
      border-radius: 16px;
      padding: 8px;
      font-size: 12px;
      color: var(--text-primary);
    }

    .upload-actions {
      display: flex;
      gap: 16px;
      justify-content: flex-end;
      margin: 10px 0;
    }
    .btn {
      background: var(--card-bg);
      border: 1px solid var(--glass-border);
      border-radius: 40px;
      padding: 12px 24px;
      color: var(--text-primary);
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }
    .btn.primary {
      background: linear-gradient(135deg, #6b4fbb, #9f7aff);
      border: none;
      color: white;
    }

    .empty-message {
      text-align: center;
      color: var(--text-secondary);
      padding: 40px;
      font-style: italic;
      grid-column: 1/-1;
    }

    /* footer */
    .footer {
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid var(--glass-border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      color: var(--text-secondary);
      font-size: 14px;
    }
    .footer-logo {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .footer-logo img {
      height: 30px;
      width: auto;
      border-radius: 8px;
      filter: drop-shadow(0 0 5px rgba(180,150,255,0.3));
      transition: filter 0.2s;
      cursor: pointer;
    }
    .footer-logo img:hover {
      filter: drop-shadow(0 0 12px #b39eff);
    }
    .footer-links {
      display: flex;
      gap: 24px;
    }
    .footer-links span {
      cursor: pointer;
      border-bottom: 1px dotted transparent;
      transition: border-color 0.2s;
    }
    .footer-links span:hover {
      border-bottom-color: var(--text-secondary);
    }

    /* modal */
    .modal-overlay {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(8px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      opacity: 0;
      pointer-events: none;
      transition: 0.2s;
    }
    .modal-overlay.show {
      opacity: 1;
      pointer-events: all;
    }
    .modal-card {
      background: var(--modal-bg);
      backdrop-filter: blur(30px);
      border: 1px solid var(--glass-border);
      border-radius: 60px;
      padding: 40px 48px;
      width: 600px;
      max-width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      color: var(--text-primary);
    }
    .modal-card h2 {
      font-size: 28px;
      margin-bottom: 20px;
    }
    .modal-card p {
      white-space: pre-line;
      line-height: 1.6;
    }
    .modal-close {
      margin-top: 20px;
      text-align: right;
    }
    .modal-input {
      width: 100%;
      background: var(--input-bg);
      border: 1px solid var(--glass-border);
      border-radius: 50px;
      padding: 15px;
      font-size: 16px;
      color: var(--text-primary);
      margin: 20px 0;
    }

    /* toast */
    .toast {
      position: fixed;
      bottom: 30px; right: 30px;
      background: var(--modal-bg);
      backdrop-filter: blur(30px);
      border: 1px solid var(--glass-border);
      color: var(--text-primary);
      padding: 16px 32px;
      border-radius: 60px;
      z-index: 1100;
      animation: slideUp 0.3s;
    }
    @keyframes slideUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
  </style>
</head>
<body class="dark">
  <div class="sensior-app">
    <!-- SIDEBAR -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h3><i class="far fa-star"></i> SENSIOR</h3>
        <button class="close-sidebar" id="closeSidebar"><i class="fas fa-chevron-left"></i></button>
      </div>
      <!-- Home page -->
      <div class="nav-item" id="homeNav"><i class="fas fa-home"></i> <span>Home</span></div>
      <!-- Dynamic pages -->
      <div class="dynamic-list" id="dynamicList"></div>
      <div class="upload-section">
        <div class="action-btn" id="addPageBtn"><i class="fas fa-layer-plus"></i> <span>Add sidebar page</span></div>
      </div>
      <div class="export-json" id="exportJsonBtn"><i class="fas fa-database"></i> Export all to JSON</div>
    </aside>

    <!-- MAIN -->
    <main class="main-panel" id="mainPanel">
      <div class="top-bar">
        <div class="logo-box">
          <img src="sensior-main-logo.png" alt="SENSIOR" class="logo-img" id="logoImg" onerror="this.src='https://placehold.co/200x50/1a1a2a/e0e0ff?text=SENSIOR&font=montserrat';">
          <span style="color: var(--glass-border); font-size: 36px;">|</span>
        </div>

        <!-- SEARCH BAR -->
        <div class="search-container">
          <input type="text" class="search-input" id="searchInput" placeholder="Search prompts...">
          <div class="search-results" id="searchResults"></div>
        </div>

        <div class="right-controls">
          <div class="dark-toggle" id="darkToggle"><i class="fas fa-sun"></i></div>
          <div class="toggle-sidebar" id="openSidebar"><i class="fas fa-bars-staggered"></i></div>
        </div>
      </div>

      <!-- Dynamic page view container -->
      <div id="pageViewContainer" class="page-view active">
        <!-- content injected by JS -->
      </div>

      <!-- FOOTER -->
      <div class="footer">
        <div class="footer-logo">
          <img src="sensior-main-logo.png" alt="SENSIOR" onerror="this.src='https://placehold.co/100x30/1a1a2a/e0e0ff?text=SENSIOR';">
          <span>Â© 2026</span>
        </div>
        <div class="footer-links">
          <span id="privacyLink">Privacy Policy</span>
          <span id="aboutLink">About Us</span>
        </div>
      </div>
    </main>
  </div>

  <!-- MODAL -->
  <div class="modal-overlay" id="modalOverlay">
    <div class="modal-card" id="modalContent">
      <!-- dynamic content -->
    </div>
  </div>

  <script>
    (function() {
      const PASSWORD = 'Ramesh@19';

      // Data structure: array of pages. Each page: { id, name, prompts: [ { imageData, prompt, filename } ] }
      let pages = [];

      // Load from localStorage
      const stored = localStorage.getItem('sensior_pages');
      if (stored) {
        try { pages = JSON.parse(stored); } catch(e) { pages = []; }
      }
      // Ensure at least a home page
      if (!pages.find(p => p.id === 'home')) {
        pages.unshift({ id: 'home', name: 'Home', prompts: [] });
      }

      // DOM elements
      const sidebar = document.getElementById('sidebar');
      const openBtn = document.getElementById('openSidebar');
      const closeBtn = document.getElementById('closeSidebar');
      const homeNav = document.getElementById('homeNav');
      const dynamicList = document.getElementById('dynamicList');
      const darkToggle = document.getElementById('darkToggle');
      const exportBtn = document.getElementById('exportJsonBtn');
      const addPageBtn = document.getElementById('addPageBtn');
      const privacyLink = document.getElementById('privacyLink');
      const aboutLink = document.getElementById('aboutLink');
      const modalOverlay = document.getElementById('modalOverlay');
      const modalContent = document.getElementById('modalContent');
      const pageViewContainer = document.getElementById('pageViewContainer');

      // Search elements
      const searchInput = document.getElementById('searchInput');
      const searchResults = document.getElementById('searchResults');

      let currentPageId = 'home';
      let highlightTimeout = null;

      // ---------- SAVE TO LOCALSTORAGE ----------
      function savePages() {
        localStorage.setItem('sensior_pages', JSON.stringify(pages));
      }

      // ---------- RENDER SIDEBAR ----------
      function renderSidebar() {
        dynamicList.innerHTML = '';
        pages.forEach(page => {
          if (page.id === 'home') return;
          const item = document.createElement('div');
          item.className = 'dynamic-item';
          item.dataset.id = page.id;
          item.innerHTML = `<i class="fa-regular fa-file"></i> ${page.name}`;
          item.addEventListener('click', () => switchToPage(page.id));
          dynamicList.appendChild(item);
        });
      }

      // ---------- SWITCH PAGE ----------
      function switchToPage(pageId, highlightIndex = -1) {
        currentPageId = pageId;
        renderPageView(highlightIndex);
      }

      // ---------- RENDER PAGE VIEW ----------
      function renderPageView(highlightIndex = -1) {
        const page = pages.find(p => p.id === currentPageId);
        if (!page) return;

        let html = `
          <div class="page-header">
            <h2 class="page-title"><i class="fas fa-layer-group"></i> ${page.name}</h2>
          </div>
          <div class="page-grid" id="pagePromptsGrid">
        `;

        if (page.prompts.length === 0) {
          html += `<div class="empty-message">ðŸ“­ no prompts in this page â€” upload some below</div>`;
        } else {
          page.prompts.forEach((item, idx) => {
            const highlightClass = (idx === highlightIndex) ? 'highlight' : '';
            html += `
              <div class="prompt-card ${highlightClass}" data-index="${idx}">
                <div class="card-img"><img src="${item.imageData}" alt="prompt"></div>
                <div class="prompt-text">${item.prompt}</div>
                <div class="card-actions">
                  <button class="copy-btn"><i class="far fa-copy"></i> Copy</button>
                  <button class="share-btn"><i class="fa-solid fa-share-nodes"></i> Share</button>
                  <button class="edit-btn"><i class="fas fa-pencil"></i> Edit</button>
                  <button class="delete-btn"><i class="fas fa-trash"></i> Delete</button>
                </div>
              </div>
            `;
          });
        }

        html += `</div>`;

        // Upload area
        html += `
          <div class="page-upload-area" id="pageDropArea">
            <i class="fas fa-cloud-upload-alt"></i>
            <p>drag & drop images or click to select</p>
            <input type="file" id="pageFileInput" multiple accept="image/*" hidden>
          </div>
          <div id="pageUploadPreviews" class="upload-previews"></div>
          <div class="upload-actions" id="pageUploadActions" style="display: none;">
            <button class="btn" id="pageCopyJsonBtn"><i class="fas fa-copy"></i> copy JSON</button>
            <button class="btn primary" id="pageSaveBtn"><i class="fas fa-save"></i> save to this page</button>
          </div>
        `;

        pageViewContainer.innerHTML = html;

        // Attach event listeners for prompts
        const promptCards = pageViewContainer.querySelectorAll('.prompt-card');
        promptCards.forEach(card => {
          const idx = card.dataset.index;
          const promptItem = page.prompts[idx];
          const copyBtn = card.querySelector('.copy-btn');
          copyBtn.addEventListener('click', () => navigator.clipboard.writeText(promptItem.prompt).then(() => showToast('âœ“ prompt copied')));
          const shareBtn = card.querySelector('.share-btn');
          shareBtn.addEventListener('click', () => {
            if (navigator.share) navigator.share({ title: 'SENSIOR prompt', text: promptItem.prompt }).catch(() => {});
            else navigator.clipboard.writeText(promptItem.prompt).then(() => showToast('âœ“ prompt copied'));
          });
          const editBtn = card.querySelector('.edit-btn');
          editBtn.addEventListener('click', () => {
            openPasswordModal('ðŸ”’ edit password', (pwd) => {
              if (pwd === PASSWORD) {
                const newText = prompt('Edit prompt:', promptItem.prompt);
                if (newText && newText.trim()) {
                  promptItem.prompt = newText.trim();
                  savePages();
                  renderPageView();
                  showToast('âœŽ updated');
                }
              } else showToast('âŒ cannot edit');
            });
          });
          const deleteBtn = card.querySelector('.delete-btn');
          deleteBtn.addEventListener('click', () => {
            openPasswordModal('ðŸ”’ delete password', (pwd) => {
              if (pwd === PASSWORD) {
                page.prompts.splice(idx, 1);
                savePages();
                renderPageView();
                showToast('ðŸ—‘ï¸ prompt deleted');
              } else showToast('âŒ cannot delete');
            });
          });
        });

        // Upload functionality
        const dropArea = document.getElementById('pageDropArea');
        const fileInput = document.getElementById('pageFileInput');
        const previewsContainer = document.getElementById('pageUploadPreviews');
        const uploadActions = document.getElementById('pageUploadActions');
        const copyJsonBtn = document.getElementById('pageCopyJsonBtn');
        const saveBtn = document.getElementById('pageSaveBtn');

        let currentUploads = [];

        dropArea.addEventListener('click', () => fileInput.click());
        dropArea.addEventListener('dragover', (e) => { e.preventDefault(); dropArea.style.borderColor = '#b39eff'; });
        dropArea.addEventListener('dragleave', () => { dropArea.style.borderColor = 'rgba(255,255,255,0.15)'; });
        dropArea.addEventListener('drop', (e) => {
          e.preventDefault();
          dropArea.style.borderColor = 'rgba(255,255,255,0.15)';
          const files = Array.from(e.dataTransfer.files).filter(f => f.type.startsWith('image/'));
          if (files.length) handleFiles(files);
        });
        fileInput.addEventListener('change', (e) => handleFiles(Array.from(e.target.files)));

        function handleFiles(files) {
          files.forEach(file => currentUploads.push({ file, prompt: '', preview: null }));
          renderPreviews();
          uploadActions.style.display = 'flex';
        }

        function renderPreviews() {
          previewsContainer.innerHTML = '';
          currentUploads.forEach((item, idx) => {
            const reader = new FileReader();
            reader.onload = (e) => {
              item.preview = e.target.result;
              const card = document.createElement('div');
              card.className = 'preview-card';
              card.innerHTML = `
                <div class="preview-img"><img src="${e.target.result}"></div>
                <textarea class="preview-input" placeholder="enter prompt...">${item.prompt}</textarea>
              `;
              const textarea = card.querySelector('textarea');
              textarea.addEventListener('input', (ev) => { item.prompt = ev.target.value; });
              previewsContainer.appendChild(card);
            };
            reader.readAsDataURL(item.file);
          });
        }

        copyJsonBtn.addEventListener('click', () => {
          if (currentUploads.length === 0) return showToast('no images');
          const missing = currentUploads.some(u => !u.prompt || !u.prompt.trim());
          if (missing) return showToast('âŒ all prompts must be filled');
          const data = currentUploads.map(u => ({ filename: u.file.name, prompt: u.prompt.trim(), imageData: u.preview }));
          navigator.clipboard.writeText(JSON.stringify(data, null, 2)).then(() => showToast('ðŸ“‹ JSON copied'));
        });

        saveBtn.addEventListener('click', () => {
          openPasswordModal('ðŸ”’ upload password', (pwd) => {
            if (pwd !== PASSWORD) { showToast('âŒ incorrect password'); return; }
            if (currentUploads.length === 0) return showToast('no images');
            const missing = currentUploads.some(u => !u.prompt || !u.prompt.trim());
            if (missing) return showToast('âŒ all prompts must be filled');
            currentUploads.forEach(u => {
              page.prompts.push({ imageData: u.preview, prompt: u.prompt.trim(), filename: u.file.name });
            });
            savePages();
            currentUploads = [];
            renderPageView();
            showToast('âœ… saved to this page');
          });
        });
      }

      // ---------- SEARCH FUNCTION ----------
      function performSearch(query) {
        if (!query.trim()) {
          searchResults.classList.remove('show');
          return;
        }
        const lowerQuery = query.toLowerCase();
        const results = [];
        pages.forEach(page => {
          page.prompts.forEach((prompt, idx) => {
            if (prompt.prompt.toLowerCase().includes(lowerQuery)) {
              results.push({
                pageId: page.id,
                pageName: page.name,
                promptIndex: idx,
                promptSnippet: prompt.prompt.length > 50 ? prompt.prompt.substring(0,50)+'...' : prompt.prompt,
                promptText: prompt.prompt
              });
            }
          });
        });
        if (results.length === 0) {
          searchResults.innerHTML = '<div class="search-result-item" style="opacity:0.7">No matches</div>';
        } else {
          searchResults.innerHTML = results.map(r => `
            <div class="search-result-item" data-pageid="${r.pageId}" data-index="${r.promptIndex}">
              <div class="result-page">ðŸ“„ ${r.pageName}</div>
              <div class="result-prompt">${r.promptSnippet}</div>
            </div>
          `).join('');
          // Attach click listeners
          searchResults.querySelectorAll('.search-result-item').forEach(item => {
            item.addEventListener('click', () => {
              const pageId = item.dataset.pageid;
              const idx = parseInt(item.dataset.index);
              switchToPage(pageId, idx);
              searchResults.classList.remove('show');
              searchInput.value = '';
              // Highlight for a few seconds
              if (highlightTimeout) clearTimeout(highlightTimeout);
              highlightTimeout = setTimeout(() => {
                document.querySelectorAll('.prompt-card.highlight').forEach(c => c.classList.remove('highlight'));
              }, 3000);
            });
          });
        }
        searchResults.classList.add('show');
      }

      searchInput.addEventListener('input', (e) => performSearch(e.target.value));
      // Hide on click outside
      document.addEventListener('click', (e) => {
        if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
          searchResults.classList.remove('show');
        }
      });

      // ---------- HOME NAV ----------
      homeNav.addEventListener('click', () => switchToPage('home'));

      // ---------- ADD NEW PAGE ----------
      addPageBtn.addEventListener('click', () => {
        openPasswordModal('ðŸ”’ password to add page', (pwd) => {
          if (pwd === PASSWORD) {
            const name = prompt('Enter new page name:');
            if (name && name.trim()) {
              const newPage = {
                id: 'page_' + Date.now() + Math.random().toString(36).substring(2),
                name: name.trim(),
                prompts: []
              };
              pages.push(newPage);
              savePages();
              renderSidebar();
              switchToPage(newPage.id);
              showToast(`âž• "${name}" added`);
            }
          } else showToast('âŒ incorrect password');
        });
      });

      // ---------- EXPORT ALL ----------
      exportBtn.addEventListener('click', () => {
        const data = { pages, exportedAt: new Date().toISOString() };
        navigator.clipboard.writeText(JSON.stringify(data, null, 2)).then(() => showToast('ðŸ“‹ all pages JSON copied'));
      });

      // ---------- SIDEBAR TOGGLE ----------
      openBtn.addEventListener('click', () => sidebar.classList.remove('collapsed'));
      closeBtn.addEventListener('click', () => sidebar.classList.add('collapsed'));

      // ---------- DARK MODE ----------
      darkToggle.addEventListener('click', () => {
        document.body.classList.toggle('dark');
        document.body.classList.toggle('light');
        const icon = darkToggle.querySelector('i');
        if (document.body.classList.contains('dark')) { icon.classList.remove('fa-sun'); icon.classList.add('fa-moon'); }
        else { icon.classList.remove('fa-moon'); icon.classList.add('fa-sun'); }
      });

      // ---------- MODAL HELPERS ----------
      function openPasswordModal(title, callback) {
        modalContent.innerHTML = `
          <h2>${title}</h2>
          <input type="password" id="modalPassword" class="modal-input" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
          <div class="modal-close">
            <button class="btn" id="modalCancel">cancel</button>
            <button class="btn primary" id="modalConfirm">confirm</button>
          </div>
        `;
        modalOverlay.classList.add('show');
        const pwdInput = document.getElementById('modalPassword');
        document.getElementById('modalCancel').addEventListener('click', () => modalOverlay.classList.remove('show'));
        document.getElementById('modalConfirm').addEventListener('click', () => {
          callback(pwdInput.value);
          modalOverlay.classList.remove('show');
        });
      }

      function openInfoModal(title, content) {
        modalContent.innerHTML = `<h2>${title}</h2><p>${content.replace(/\n/g, '<br>')}</p><div class="modal-close"><button class="btn" id="modalClose">close</button></div>`;
        modalOverlay.classList.add('show');
        document.getElementById('modalClose').addEventListener('click', () => modalOverlay.classList.remove('show'));
      }

      privacyLink.addEventListener('click', () => {
        openInfoModal('ðŸ” Privacy Policy', `SENSIOR\nEffective Date: [Add Todayâ€™s Date]\n\nWelcome to SENSIOR. Your privacy is important to us.\n\nThis Privacy Policy explains how information is handled when you use our website.\n\n1. No Personal Data Collection\nSENSIOR is a simple prompt library website.\nWe do NOT:\n- Require user registration\n- Collect personal information\n- Store user data\n- Allow user uploads\n- Track personal user activity\n- Sell or share user data\n\nYou can freely browse, copy prompts, and use them in your preferred AI tools without providing any personal information.\n\n2. Log Data\nLike most websites, basic non-personal data may automatically be collected by hosting providers, such as:\n- IP address\n- Browser type\n- Device type\n- Date and time of visit\n\nThis data is used only for website performance, security, and analytics purposes. It is not used to personally identify users.\n\n3. Google AdSense & Cookies\nSENSIOR uses Google AdSense to display advertisements.\nGoogle and third-party vendors may use cookies to:\n- Serve ads based on previous visits to this website or other websites\n- Provide personalized advertisements\n\nUsers may opt out of personalized advertising by visiting:\nhttps://www.google.com/settings/ads\n\nThird-party vendors, including Google, use cookies to serve ads based on prior visits to this website.\n\n4. Third-Party Links\nSENSIOR may contain links to third-party AI tools or external websites.\nWe are not responsible for the privacy practices or content of those websites.\n\n5. Children's Privacy\nSENSIOR does not knowingly collect any personal information from anyone, including children under 13.\nSince we do not collect personal data, there is no storage of children's information.\n\n6. Data Security\nBecause we do not collect or store personal data, there is minimal risk of data misuse.\n\n7. Changes to This Privacy Policy\nWe may update this Privacy Policy at any time. Changes will be posted on this page with an updated effective date.\n\n8. Contact Us\nIf you have any questions about this Privacy Policy, you may contact us at:\nðŸ“§ SENSIOR23@gmail.com`);
      });

      aboutLink.addEventListener('click', () => {
        openInfoModal('About Us', `Welcome to SENSIOR\n\nSENSIOR is a professional prompt library designed to help users quickly copy and use high-quality AI prompts.\n\nOur platform is built for creators, developers, designers, marketers, students, and AI enthusiasts who want ready-to-use prompts without wasting time writing from scratch.\n\nWhat We Do\nAt SENSIOR, we:\n- Provide structured, optimized AI prompts\n- Make prompts easy to copy and use\n- Organize prompts by categories\n- Continuously update our prompt collection\n\nYou simply copy a prompt from our website and paste it into your preferred AI tool.\n\nNo sign-up.\nNo account creation.\nNo data collection.\n\nJust simple and efficient access to powerful prompts.\n\nOur Mission\nOur mission is to make AI more accessible by providing clean, professional, and effective prompts that save time and improve results.\n\nWe focus on simplicity, usability, and quality.\n\nWhy Choose SENSIOR?\nâœ… Clean and user-friendly interface\nâœ… No registration required\nâœ… No personal data collection\nâœ… Fast and easy prompt copying\nâœ… Regularly updated content\n\nImportant Note\nSENSIOR only provides prompts.\nWe do not generate AI outputs directly and we are not responsible for results generated on third-party AI platforms.\n\nUsers are responsible for how they use the prompts.\n\nContact Us\nIf you have suggestions, feedback, or business inquiries, feel free to contact us:\nðŸ“§ SENSIOR23@gmail.com`);
      });

      function showToast(msg) {
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.textContent = msg;
        document.body.appendChild(toast);
        setTimeout(() => toast.remove(), 2000);
      }

      // ---------- INIT ----------
      renderSidebar();
      switchToPage('home');

      // fallback logos
      document.getElementById('logoImg').addEventListener('error', function(e) {
        e.target.src = 'https://placehold.co/200x50/1a1a2a/e0e0ff?text=SENSIOR&font=montserrat';
      });
      document.querySelectorAll('.footer-logo img').forEach(img => {
        img.addEventListener('error', function(e) {
          e.target.src = 'https://placehold.co/100x30/1a1a2a/e0e0ff?text=SENSIOR';
        });
      });
    })();
  </script>
</body>
</html>